{"version":3,"sources":["components/HeaderBar.jsx","utils.js","components/Loader.jsx","components/ErrorDisplay.jsx","components/NavBar.jsx","components/ArticleCard.jsx","components/SortArticlesForm.jsx","components/ArticleList.jsx","components/Voter.jsx","components/SingleArticle.jsx","components/Deleter.jsx","components/CommentCard.jsx","components/CommentForm.jsx","components/Comments.jsx","App.js","index.js"],"names":["HeaderBar","props","className","username","request","axios","create","baseURL","getTopics","get","then","data","topics","getArticles","topic","sort_by","order","params","articles","getSingleArticle","article_id","article","getComments","comments","patchVotes","inc_votes","id","type","patch","postComment","newComment","post","comment","deleteComment","comment_id","delete","Loader","ErrorDisplay","status","msg","NavBar","state","isLoading","topicError","componentDidMount","fetchTopics","api","setState","catch","err","response","message","this","to","map","key","slug","Component","ArticleCard","title","votes","author","comment_count","SortArticlesForm","handleChangeOrder","handleChangeSortBy","onChange","ArticleList","fetchArticles","componentDidUpdate","prevProps","prevState","event","target","value","console","dir","Voter","optimisticVotes","handleClick","vote","currentState","onClick","disabled","SingleArticle","articleError","fetchSingleArticle","body","Deleter","removeComment","alert","CommentCard","CommentForm","commentInput","postError","handleChange","name","handleSubmit","preventDefault","addComment","onSubmit","placeholder","Comments","commentError","fetchComments","deletedComment_id","filter","App","userInfo","path","default","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6b52942e.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../styles/global.css\";\n\nconst HeaderBar = (props) => {\n  return (\n    <header className=\"container\">\n      <h1>Northcoders News</h1>\n      <p>Welcome {props.username}</p>\n    </header>\n  );\n};\n\nexport default HeaderBar;\n","import axios from \"axios\";\n\nconst request = axios.create({\n  baseURL: \"http://salex-nc-news-server.herokuapp.com/api\",\n});\n\nexport const getTopics = () => {\n  return request.get(\"/topics\").then(({ data }) => {\n    return data.topics;\n  });\n};\n\nexport const getArticles = ({ topic, sort_by, order }) => {\n  return request\n    .get(\"/articles\", { params: { topic, sort_by, order } })\n    .then(({ data }) => {\n      return data.articles;\n    });\n};\n\nexport const getSingleArticle = ({ article_id }) => {\n  return request.get(`/articles/${article_id}`).then(({ data }) => {\n    return data.article;\n  });\n};\n\nexport const getComments = ({ article_id }) => {\n  return request.get(`/articles/${article_id}/comments`).then(({ data }) => {\n    return data.comments;\n  });\n};\n\nexport const patchVotes = (inc_votes, id, type) => {\n  return request.patch(`/${type}/${id}`, { inc_votes }).then(({ data }) => {\n    return data;\n  });\n};\n\nexport const postComment = (newComment, article_id) => {\n  return request\n    .post(`/articles/${article_id}/comments`, newComment)\n    .then(({ data }) => {\n      return data.comment;\n    });\n};\n\nexport const deleteComment = (comment_id) => {\n  return request.delete(`/comments/${comment_id}`);\n};\n","import React from \"react\";\n\nconst Loader = () => {\n  return <div id=\"loader\"></div>;\n};\n\nexport default Loader;\n","import React from \"react\";\n\nconst ErrorDisplay = ({ status, msg }) => {\n  return (\n    <div className=\"mainBody\">\n      <h3>OOOPS, SOMETHING WENT WRONG!</h3>\n      <p>Status: {status || 500}</p>\n      <p>Message: {msg || \"Try again later\"}</p>\n    </div>\n  );\n};\n\nexport default ErrorDisplay;\n","import React, { Component } from \"react\";\nimport \"../styles/global.css\";\nimport * as api from \"../utils\";\nimport Loader from \"./Loader\";\nimport { Link } from \"@reach/router\";\nimport ErrorDisplay from \"./ErrorDisplay\";\n\nclass NavBar extends Component {\n  state = {\n    topics: [],\n    isLoading: true,\n    topicError: null,\n  };\n\n  componentDidMount = () => {\n    this.fetchTopics();\n  };\n\n  render() {\n    const { topics, isLoading, topicError } = this.state;\n    if (topicError)\n      return <ErrorDisplay status={topicError.status} msg={topicError.msg} />;\n    if (isLoading) return <Loader />;\n    else {\n      return (\n        <nav className=\"container\">\n          <ul>\n            <li>\n              <Link to=\"/\" className=\"nava\">\n                all articles\n              </Link>\n            </li>\n            {topics.map((topic) => {\n              return (\n                <li key={topic.slug}>\n                  <Link to={`/articles/topics/${topic.slug}`} className=\"nava\">\n                    {topic.slug}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n      );\n    }\n  }\n\n  fetchTopics = () => {\n    api\n      .getTopics()\n      .then((topics) => {\n        this.setState({ topics, isLoading: false });\n      })\n      .catch((err) => {\n        this.setState({\n          topicError: {\n            status: err.response.status,\n            msg: err.response.data.message,\n          },\n        });\n      });\n  };\n}\n\nexport default NavBar;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\n\nconst ArticleCard = ({ article }) => {\n  return (\n    <article className=\"articleCard\">\n      <h3>\n        <Link to={`/articles/${article.article_id}`} className=\"articleLink\">\n          {article.title}\n        </Link>\n      </h3>\n      <p>votes: {article.votes}</p>\n      <p>written by: {article.author}</p>\n      <p>comments: {article.comment_count}</p>\n    </article>\n  );\n};\n\nexport default ArticleCard;\n","import React from \"react\";\nimport \"../styles/global.css\";\n\nconst SortArticlesForm = ({\n  sort_by,\n  order,\n  handleChangeOrder,\n  handleChangeSortBy,\n}) => {\n  return (\n    <form className=\"sortByForm\">\n      <label>\n        Sort articles by:\n        <select sort_by={sort_by} onChange={handleChangeSortBy}>\n          <option sort_by=\"created_at\">created_at</option>\n          <option sort_by=\"votes\">votes</option>\n          <option sort_by=\"comment_count\">comment_count</option>\n        </select>\n      </label>\n\n      <label>\n        Arrange by:\n        <select order={order} onChange={handleChangeOrder}>\n          <option order=\"desc\">desc</option>\n          <option order=\"asc\">asc</option>\n        </select>\n      </label>\n    </form>\n  );\n};\n\nexport default SortArticlesForm;\n","import React, { Component } from \"react\";\nimport Loader from \"./Loader\";\nimport * as api from \"../utils\";\nimport ArticleCard from \"./ArticleCard\";\nimport \"../styles/global.css\";\nimport ErrorDisplay from \"./ErrorDisplay\";\nimport SortArticlesForm from \"./SortArticlesForm\";\n\nclass ArticleList extends Component {\n  state = {\n    articles: [],\n    isLoading: true,\n    sort_by: \"\",\n    order: \"desc\",\n    topicError: null,\n  };\n\n  componentDidMount = () => {\n    this.fetchArticles();\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    if (\n      prevProps.topic !== this.props.topic ||\n      prevState.sort_by !== this.state.sort_by ||\n      prevState.order !== this.state.order\n    ) {\n      this.fetchArticles();\n    }\n  };\n\n  render() {\n    const { articles, isLoading, sort_by, order, topicError } = this.state;\n    if (isLoading) return <Loader />;\n    if (topicError)\n      return <ErrorDisplay status={topicError.status} msg={topicError.msg} />;\n    return (\n      <main className=\"mainBody\">\n        <SortArticlesForm\n          sort_by={sort_by}\n          order={order}\n          handleChangeOrder={this.handleChangeOrder}\n          handleChangeSortBy={this.handleChangeSortBy}\n        />\n        {articles.map((article) => {\n          return <ArticleCard article={article} key={article.article_id} />;\n        })}\n      </main>\n    );\n  }\n\n  handleChangeSortBy = (event) => {\n    this.setState({ sort_by: event.target.value });\n  };\n\n  handleChangeOrder = (event) => {\n    this.setState({ order: event.target.value });\n  };\n\n  fetchArticles = () => {\n    const { topic } = this.props;\n    const { sort_by, order } = this.state;\n    api\n      .getArticles({ topic, sort_by, order })\n      .then((articles) => {\n        this.setState({ articles, isLoading: false });\n      })\n      .catch((err) => {\n        console.dir(err);\n        this.setState({\n          topicError: {\n            status: err.response.status,\n            msg: err.response.data.message,\n          },\n          isLoading: false,\n        });\n      });\n  };\n}\n\nexport default ArticleList;\n","import React, { Component } from \"react\";\nimport * as api from \"../utils\";\n\nclass Voter extends Component {\n  state = {\n    optimisticVotes: 0,\n  };\n\n  handleClick = (vote) => {\n    this.setState((currentState) => {\n      return {\n        optimisticVotes: currentState.optimisticVotes + vote,\n      };\n    });\n    api.patchVotes(vote, this.props.id, this.props.type);\n  };\n\n  render() {\n    const { optimisticVotes } = this.state;\n    return (\n      <div>\n        <p>Votes: {this.props.votes + optimisticVotes}</p>\n        <button\n          className=\"btn btn-3\"\n          onClick={() => {\n            this.handleClick(1);\n          }}\n          disabled={optimisticVotes > 0}\n        >\n          I love it!\n        </button>\n        <button\n          className=\"btn btn-2\"\n          onClick={() => {\n            this.handleClick(-1);\n          }}\n          disabled={optimisticVotes < 0}\n        >\n          Not for me.\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Voter;\n","import React, { Component } from \"react\";\nimport Loader from \"./Loader\";\nimport * as api from \"../utils\";\nimport { Link } from \"@reach/router\";\nimport Voter from \"./Voter\";\nimport ErrorDisplay from \"./ErrorDisplay\";\nimport \"../styles/global.css\";\n\nclass SingleArticle extends Component {\n  state = {\n    article: {},\n    isLoading: true,\n    articleError: null,\n  };\n\n  componentDidMount = () => {\n    this.fetchSingleArticle();\n  };\n\n  render() {\n    const { article, isLoading, articleError } = this.state;\n    if (isLoading) return <Loader />;\n    if (articleError)\n      return (\n        <ErrorDisplay status={articleError.status} msg={articleError.msg} />\n      );\n    return (\n      <main className=\"mainBody\">\n        <div className=\"fullArticle\">\n          <h3>{article.title}</h3>\n          <p className=\"p1\">written by: {article.author}</p>\n          <p className=\"p2\">{article.body}</p>\n          <div className=\"votesBox\">\n            <Voter\n              votes={article.votes}\n              id={article.article_id}\n              type=\"articles\"\n            />\n          </div>\n          <h4>\n            <Link to={`/articles/${article.article_id}/comments`}>\n              See comments\n            </Link>\n          </h4>\n        </div>\n      </main>\n    );\n  }\n\n  fetchSingleArticle = () => {\n    const { article_id } = this.props;\n    api\n      .getSingleArticle({ article_id })\n      .then((article) => {\n        this.setState({ article, isLoading: false });\n      })\n      .catch((err) => {\n        console.dir(err);\n        this.setState({\n          articleError: {\n            status: err.response.status,\n            msg: err.response.data.message,\n          },\n          isLoading: false,\n        });\n      });\n  };\n}\n\nexport default SingleArticle;\n","import React, { Component } from \"react\";\nimport * as api from \"../utils\";\n\nclass Deleter extends Component {\n  handleClick = (comment_id) => {\n    if (this.props.author === this.props.username) {\n      api.deleteComment(comment_id);\n      this.props.removeComment(comment_id);\n    } else {\n      alert(\"You are not authorised to delete this comment\");\n    }\n  };\n\n  render() {\n    const { comment_id, author } = this.props;\n\n    return (\n      <div id=\"delete\">\n        <button\n          onClick={() => {\n            this.handleClick(comment_id, author);\n          }}\n        >\n          Delete comment\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Deleter;\n","import React from \"react\";\nimport Voter from \"./Voter\";\nimport Deleter from \"./Deleter\";\nimport \"../styles/global.css\";\n\nconst CommentCard = ({ comment, username, removeComment }) => {\n  return (\n    <article className=\"comments\">\n      <li>\n        <p>{comment.body}</p>\n        <p className=\"p1\">{comment.author}</p>\n        <Deleter\n          comment_id={comment.comment_id}\n          author={comment.author}\n          username={username}\n          removeComment={removeComment}\n          className=\"delete\"\n        />\n        <div className=\"commentVotes\">\n          <Voter\n            votes={comment.votes}\n            id={comment.comment_id}\n            type=\"comments\"\n          />\n        </div>\n      </li>\n    </article>\n  );\n};\n\nexport default CommentCard;\n","import React, { Component } from \"react\";\nimport * as api from \"../utils\";\nimport ErrorDisplay from \"./ErrorDisplay\";\n\nclass CommentForm extends Component {\n  state = {\n    commentInput: \"\",\n    postError: null,\n  };\n  render() {\n    const { commentInput, postError } = this.state;\n    const { username } = this.props;\n    if (postError)\n      return <ErrorDisplay status={postError.status} msg={postError.msg} />;\n    return (\n      <form onSubmit={this.handleSubmit} id=\"commentForm\">\n        <label className=\"username\">\n          Username:\n          <input\n            type=\"text\"\n            name=\"usernameInput\"\n            value={username}\n            onChange={this.handleChange}\n          />\n        </label>\n\n        <label className=\"comment\">\n          <textarea\n            type=\"text\"\n            placeholder=\"have your say..\"\n            name=\"commentInput\"\n            value={commentInput}\n            onChange={this.handleChange}\n          />\n        </label>\n\n        <button>Submit</button>\n      </form>\n    );\n  }\n  handleChange = (event) => {\n    const { value, name } = event.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { article_id, addComment } = this.props;\n    const { commentInput } = this.state;\n    const newComment = { username: this.props.username, body: commentInput };\n    api\n      .postComment(newComment, article_id)\n      .then((comment) => {\n        addComment(comment);\n      })\n      .catch((err) => {\n        this.setState({\n          postError: {\n            status: err.response.status,\n            msg: err.response.data.message,\n          },\n        });\n      });\n\n    this.setState({ commentInput: \"\" });\n  };\n}\n\nexport default CommentForm;\n","import React, { Component } from \"react\";\nimport * as api from \"../utils\";\nimport CommentCard from \"./CommentCard\";\nimport Loader from \"./Loader\";\nimport CommentForm from \"./CommentForm\";\nimport ErrorDisplay from \"./ErrorDisplay\";\n\nclass Comments extends Component {\n  state = {\n    comments: [],\n    isLoading: true,\n    commentError: null,\n  };\n\n  componentDidMount = () => {\n    this.fetchComments();\n  };\n\n  render() {\n    const { comments, isLoading, commentError } = this.state;\n    const { article_id } = this.props;\n    if (commentError)\n      return (\n        <ErrorDisplay status={commentError.status} msg={commentError.msg} />\n      );\n    if (isLoading) return <Loader />;\n    return (\n      <div className=\"commentCard\">\n        <ul>\n          {comments.map((comment) => {\n            return (\n              <CommentCard\n                comment={comment}\n                username={this.props.username}\n                key={comment.comment_id}\n                removeComment={this.removeComment}\n              />\n            );\n          })}\n          <CommentForm\n            article_id={article_id}\n            addComment={this.addComment}\n            username={this.props.username}\n          />\n        </ul>\n      </div>\n    );\n  }\n  fetchComments = () => {\n    const { article_id } = this.props;\n    api\n      .getComments({ article_id })\n      .then((comments) => {\n        this.setState({ comments, isLoading: false });\n      })\n      .catch((err) => {\n        this.setState({\n          commentError: {\n            status: err.response.status,\n            msg: err.response.data.message,\n          },\n        });\n      });\n  };\n\n  addComment = (newComment) => {\n    this.setState(({ comments }) => {\n      return { comments: [...comments, newComment] };\n    });\n  };\n\n  removeComment = (deletedComment_id) => {\n    this.setState((currentState) => {\n      return {\n        comments: currentState.comments.filter(\n          (comment) => comment.comment_id !== deletedComment_id\n        ),\n      };\n    });\n  };\n}\n\nexport default Comments;\n","import React, { Component } from \"react\";\nimport \"../src/styles/global.css\";\nimport HeaderBar from \"./components/HeaderBar\";\nimport NavBar from \"./components/NavBar\";\nimport ArticleList from \"./components/ArticleList\";\nimport { Router } from \"@reach/router\";\nimport SingleArticle from \"./components/SingleArticle\";\nimport Comments from \"./components/Comments\";\nimport ErrorDisplay from \"./components/ErrorDisplay\";\n\nclass App extends Component {\n  state = {\n    userInfo: {\n      username: \"jessjelly\",\n    },\n  };\n  render() {\n    return (\n      <div className=\"App\">\n        <HeaderBar username={this.state.userInfo.username} />\n        <NavBar />\n        <Router>\n          <ArticleList path=\"/\" />\n          <ArticleList path=\"/articles/topics/:topic\" />\n          <SingleArticle path=\"/articles/:article_id\" />\n          <Comments\n            path=\"/articles/:article_id/comments\"\n            username={this.state.userInfo.username}\n          />\n          <ErrorDisplay default status={404} msg={\"page not found\"} />\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}