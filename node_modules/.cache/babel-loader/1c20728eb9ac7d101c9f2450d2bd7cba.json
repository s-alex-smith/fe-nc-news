{"ast":null,"code":"import _classCallCheck from\"/home/alex/Desktop/northcoders/week-12/fe-nc-news/nc-news/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alex/Desktop/northcoders/week-12/fe-nc-news/nc-news/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/alex/Desktop/northcoders/week-12/fe-nc-news/nc-news/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/alex/Desktop/northcoders/week-12/fe-nc-news/nc-news/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Loader from\"./Loader\";import*as api from\"../utils\";import{Link}from\"@reach/router\";import Voter from\"./Voter\";import ErrorDisplay from\"./ErrorDisplay\";import\"../styles/global.css\";var SingleArticle=/*#__PURE__*/function(_Component){_inherits(SingleArticle,_Component);var _super=_createSuper(SingleArticle);function SingleArticle(){var _this;_classCallCheck(this,SingleArticle);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={article:{},isLoading:true,articleError:null};_this.componentDidMount=function(){_this.fetchSingleArticle();};_this.fetchSingleArticle=function(){var article_id=_this.props.article_id;api.getSingleArticle({article_id:article_id}).then(function(article){_this.setState({article:article,isLoading:false});}).catch(function(err){console.dir(err);_this.setState({articleError:{status:err.response.status,msg:err.response.data.message},isLoading:false});});};return _this;}_createClass(SingleArticle,[{key:\"render\",value:function render(){var _this$state=this.state,article=_this$state.article,isLoading=_this$state.isLoading,articleError=_this$state.articleError;if(isLoading)return/*#__PURE__*/React.createElement(Loader,null);if(articleError)return/*#__PURE__*/React.createElement(ErrorDisplay,{status:articleError.status,msg:articleError.msg});return/*#__PURE__*/React.createElement(\"main\",{className:\"mainBody\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fullArticle\"},/*#__PURE__*/React.createElement(\"h3\",null,article.title),/*#__PURE__*/React.createElement(\"p\",{className:\"p1\"},\"written by: \",article.author),/*#__PURE__*/React.createElement(\"p\",{className:\"p2\"},article.body),/*#__PURE__*/React.createElement(\"div\",{className:\"votesBox\"},/*#__PURE__*/React.createElement(Voter,{votes:article.votes,id:article.article_id,type:\"articles\"})),/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(Link,{to:\"/articles/\".concat(article.article_id,\"/comments\")},\"See comments\"))));}}]);return SingleArticle;}(Component);export default SingleArticle;","map":{"version":3,"sources":["/home/alex/Desktop/northcoders/week-12/fe-nc-news/nc-news/src/components/SingleArticle.jsx"],"names":["React","Component","Loader","api","Link","Voter","ErrorDisplay","SingleArticle","state","article","isLoading","articleError","componentDidMount","fetchSingleArticle","article_id","props","getSingleArticle","then","setState","catch","err","console","dir","status","response","msg","data","message","title","author","body","votes"],"mappings":"grBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,UAArB,CACA,OAASC,IAAT,KAAqB,eAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAO,sBAAP,C,GAEMC,CAAAA,a,uVACJC,K,CAAQ,CACNC,OAAO,CAAE,EADH,CAENC,SAAS,CAAE,IAFL,CAGNC,YAAY,CAAE,IAHR,C,OAMRC,iB,CAAoB,UAAM,CACxB,MAAKC,kBAAL,GACD,C,OAgCDA,kB,CAAqB,UAAM,IACjBC,CAAAA,UADiB,CACF,MAAKC,KADH,CACjBD,UADiB,CAEzBX,GAAG,CACAa,gBADH,CACoB,CAAEF,UAAU,CAAVA,UAAF,CADpB,EAEGG,IAFH,CAEQ,SAACR,OAAD,CAAa,CACjB,MAAKS,QAAL,CAAc,CAAET,OAAO,CAAPA,OAAF,CAAWC,SAAS,CAAE,KAAtB,CAAd,EACD,CAJH,EAKGS,KALH,CAKS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,MAAKF,QAAL,CAAc,CACZP,YAAY,CAAE,CACZY,MAAM,CAAEH,GAAG,CAACI,QAAJ,CAAaD,MADT,CAEZE,GAAG,CAAEL,GAAG,CAACI,QAAJ,CAAaE,IAAb,CAAkBC,OAFX,CADF,CAKZjB,SAAS,CAAE,KALC,CAAd,EAOD,CAdH,EAeD,C,gFA/CQ,iBACsC,KAAKF,KAD3C,CACCC,OADD,aACCA,OADD,CACUC,SADV,aACUA,SADV,CACqBC,YADrB,aACqBA,YADrB,CAEP,GAAID,SAAJ,CAAe,mBAAO,oBAAC,MAAD,MAAP,CACf,GAAIC,YAAJ,CACE,mBACE,oBAAC,YAAD,EAAc,MAAM,CAAEA,YAAY,CAACY,MAAnC,CAA2C,GAAG,CAAEZ,YAAY,CAACc,GAA7D,EADF,CAGF,mBACE,4BAAM,SAAS,CAAC,UAAhB,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,8BAAKhB,OAAO,CAACmB,KAAb,CADF,cAEE,yBAAG,SAAS,CAAC,IAAb,iBAA+BnB,OAAO,CAACoB,MAAvC,CAFF,cAGE,yBAAG,SAAS,CAAC,IAAb,EAAmBpB,OAAO,CAACqB,IAA3B,CAHF,cAIE,2BAAK,SAAS,CAAC,UAAf,eACE,oBAAC,KAAD,EACE,KAAK,CAAErB,OAAO,CAACsB,KADjB,CAEE,EAAE,CAAEtB,OAAO,CAACK,UAFd,CAGE,IAAI,CAAC,UAHP,EADF,CAJF,cAWE,2CACE,oBAAC,IAAD,EAAM,EAAE,qBAAeL,OAAO,CAACK,UAAvB,aAAR,iBADF,CAXF,CADF,CADF,CAqBD,C,2BAvCyBb,S,EA6D5B,cAAeM,CAAAA,aAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Loader from \"./Loader\";\nimport * as api from \"../utils\";\nimport { Link } from \"@reach/router\";\nimport Voter from \"./Voter\";\nimport ErrorDisplay from \"./ErrorDisplay\";\nimport \"../styles/global.css\";\n\nclass SingleArticle extends Component {\n  state = {\n    article: {},\n    isLoading: true,\n    articleError: null,\n  };\n\n  componentDidMount = () => {\n    this.fetchSingleArticle();\n  };\n\n  render() {\n    const { article, isLoading, articleError } = this.state;\n    if (isLoading) return <Loader />;\n    if (articleError)\n      return (\n        <ErrorDisplay status={articleError.status} msg={articleError.msg} />\n      );\n    return (\n      <main className=\"mainBody\">\n        <div className=\"fullArticle\">\n          <h3>{article.title}</h3>\n          <p className=\"p1\">written by: {article.author}</p>\n          <p className=\"p2\">{article.body}</p>\n          <div className=\"votesBox\">\n            <Voter\n              votes={article.votes}\n              id={article.article_id}\n              type=\"articles\"\n            />\n          </div>\n          <h4>\n            <Link to={`/articles/${article.article_id}/comments`}>\n              See comments\n            </Link>\n          </h4>\n        </div>\n      </main>\n    );\n  }\n\n  fetchSingleArticle = () => {\n    const { article_id } = this.props;\n    api\n      .getSingleArticle({ article_id })\n      .then((article) => {\n        this.setState({ article, isLoading: false });\n      })\n      .catch((err) => {\n        console.dir(err);\n        this.setState({\n          articleError: {\n            status: err.response.status,\n            msg: err.response.data.message,\n          },\n          isLoading: false,\n        });\n      });\n  };\n}\n\nexport default SingleArticle;\n"]},"metadata":{},"sourceType":"module"}